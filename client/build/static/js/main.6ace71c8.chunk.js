(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{64:function(e,t,a){e.exports=a(96)},69:function(e,t,a){},71:function(e,t,a){},96:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(29),o=a.n(l),c=(a(69),a(5)),s=a.n(c),i=a(9),u=a(16),m=a(17),d=a(20),p=a(19),h=(a(71),a(6)),g=a(11),f=a(24),E=a(26),w=a(43),b=function(e){return r.a.createElement(w.a,{bg:"dark",variant:"dark"},r.a.createElement(w.a.Brand,null,r.a.createElement("img",{src:"https://react-bootstrap.netlify.app/logo.svg",width:"30",height:"30",className:"d-inline-block align-top"})," ",r.a.createElement(g.b,{to:"/",style:{color:"white"}},"TWEETIT")),r.a.createElement(f.a,{className:"mr-auto"}),r.a.createElement(E.a,{inline:!0},e.username?r.a.createElement(f.a.Link,null,r.a.createElement(g.b,{to:"/",style:{color:"white"}},"EMAIL :  "," ".concat(e.email))):null,e.username?r.a.createElement(f.a.Link,null,r.a.createElement(g.b,{to:"/",style:{color:"white"}},"USERNAME : "," ".concat(e.username))):null,r.a.createElement(f.a.Link,null,r.a.createElement(g.b,{to:"/toptags"},"Top Tags".toUpperCase())),e.username?null:r.a.createElement(f.a.Link,{href:""},r.a.createElement(g.b,{to:"/login"},"login".toUpperCase())),e.username?r.a.createElement(f.a.Link,{href:"#"},r.a.createElement(g.b,{to:"/".concat(e.username,"/all")},"your tweets".toUpperCase())):null,e.username?r.a.createElement(f.a.Link,{href:"#",onClick:e.handleSignOut},"Signout".toUpperCase()):null))},v=a(28),x=a(15),k=a.n(x),y=a(40),S=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).onSubmit=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,l,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),t.persist(),a=n.state,r=a.tweet,l=a.caption,o=a.fileToUpload,(c=new FormData).append("username",n.props.username),c.append("image",o),c.append("tweet",r.trim()),c.append("caption",l.trim()),e.next=10,n.setState({disabled:!0});case 10:return e.next=12,k.a.post("/tweet",c,{headers:{Authorization:"Bearer ".concat(n.props.token),"Content-Type":"multipart/form-data"}});case 12:if(200!=e.sent.status){e.next=20;break}return e.next=16,n.setState({tweet:"",caption:"",fileToUpload:""});case 16:return e.next=18,n.setState({disabled:!1});case 18:e.next=24;break;case 20:return console.log("ERROR"),alert("Something went wrong !"),e.next=24,n.setState({disabled:!1});case 24:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.fileChangedHandler=function(e){e.persist();var t=e.target.files[0];n.setState({fileToUpload:t})},n.handleChange=function(){var e=Object(i.a)(s.a.mark((function e(t){var a,r,l;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),a=t.target,r=a.name,l=a.value,!("caption"==r&&l.length>150)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,n.setState(Object(v.a)({},r,l));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={tweet:"",caption:"",fileToUpload:null,disabled:!1},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("div",{style:{verticalAlign:"center",textAlign:"center",marginTop:"10%",fontWeight:"bolder",fontSize:window.innerWidth>600?window.innerWidth/15:window.innerWidth/10}},"TWEETIT"),r.a.createElement(E.a,{style:{marginLeft:"auto",marginRight:"auto",verticalAlign:"center",textAlign:"center",margintop:"10%",fontWeight:"bolder",width:window.innerWidth>600?window.innerWidth/3:"100%"}},r.a.createElement(E.a.Group,{controlId:"formGroupPassword"},r.a.createElement(E.a.Control,{value:this.state.tweet,onChange:this.handleChange,name:"tweet",type:"text",placeholder:"Tweet",style:{marginTop:"10px",marginLeft:"auto",marginRight:"auto"}}),r.a.createElement(E.a.Control,{value:this.state.caption,onChange:this.handleChange,name:"caption",type:"text",placeholder:"Caption",style:{marginTop:"10px",marginLeft:"auto",marginRight:"auto"}}),r.a.createElement("input",{type:"file",onChange:this.fileChangedHandler}),r.a.createElement(y.a,{disabled:this.state.disabled,onClick:this.onSubmit,style:{marginTop:"10px"}},"TWEETIT"))))}}]),a}(r.a.Component),O=a(100),C=a(101),j=a(98),T=function(){return r.a.createElement(j.a,{animation:"border",role:"status",style:{margin:"auto",marginTop:"10%",textAlign:"center",width:window.innerWidth/6,height:window.innerWidth/6}},r.a.createElement("span",{className:"sr-only"},"Loading..."))},N=a(99),I=function(e){var t=e.array;return r.a.createElement(N.a,{striped:!0,bordered:!0,hover:!0,style:{textAlign:"left"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"#"),r.a.createElement("th",null,"HashTag".toUpperCase()),r.a.createElement("th",{style:{textAlign:"center"}},"Freqency".toUpperCase()))),r.a.createElement("tbody",null,t.map((function(e,t){return r.a.createElement("tr",{key:t},r.a.createElement("td",null,t+1),r.a.createElement("td",null,e.hashtag),r.a.createElement("td",{style:{textAlign:"center"}},e.frequency))}))))},W=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleDataChange=Object(i.a)(s.a.mark((function t(){var a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({top:e.state.top+6});case 2:return t.next=4,k()({url:"/hashtags",method:"POST",data:{top:e.state.top}});case 4:200==(a=t.sent).status&&e.setState({data:a.data.hashtags,loaded:!0});case 6:case"end":return t.stop()}}),t)}))),e.state={data:[],loaded:!1,top:6},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k()({url:"/hashtags",method:"POST",data:{top:this.state.top}});case 2:200==(t=e.sent).status&&this.setState({data:t.data.hashtags,loaded:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.a,null,r.a.createElement(C.a,null,this.state.loaded?r.a.createElement(I,{array:this.state.data}):r.a.createElement(T,null)),r.a.createElement(y.a,{onClick:this.handleDataChange,variant:"info"},"Load More")))}}]),a}(r.a.Component),A=a(61),L=a(62),U=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).localHandleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(v.a)({},a,r))},n.localhandleSubmit=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,t.preventDefault(),"signup"!=n.props.formName){e.next=8;break}return e.next=5,k()({url:"/users/".concat(n.props.formName),data:Object(L.a)({},n.state),method:"POST"});case 5:a=e.sent,e.next=11;break;case 8:return e.next=10,k()({url:"/users/".concat(n.props.formName),data:{email:n.state.username,password:n.state.password},method:"POST"});case 10:a=e.sent;case 11:if(200!==a.status&&201!=a.status){e.next=14;break}return e.next=14,n.props.handleChange(a);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(t){return e.apply(this,arguments)}}(),n.state={email:"",password:"",username:""},n}return Object(m.a)(a,[{key:"render",value:function(){return r.a.createElement(E.a,null,r.a.createElement(E.a.Group,{controlId:"formBasicEmail"},r.a.createElement(E.a.Label,null,"signup"==this.props.formName?"Username":"Email"),r.a.createElement(E.a.Control,{value:this.state.username,name:"username",onChange:this.localHandleChange,type:"text",placeholder:"signup"==this.props.formName?"Enter Username":"Enter Email"})),"signup"==this.props.formName?r.a.createElement(E.a.Group,{controlId:"formBasicEmail"},r.a.createElement(E.a.Label,null,"Email address"),r.a.createElement(E.a.Control,{value:this.state.email,name:"email",onChange:this.localHandleChange,type:"email",placeholder:"Enter email"}),r.a.createElement(E.a.Text,{className:"text-muted"},"We'll never share your email with anyone else.")):null,r.a.createElement(E.a.Group,{controlId:"formBasicPassword"},r.a.createElement(E.a.Label,null,"Password"),r.a.createElement(E.a.Control,{value:this.state.password,name:"password",onChange:this.localHandleChange,type:"password",placeholder:"Password"})),r.a.createElement(E.a.Group,{controlId:"formBasicCheckbox"},r.a.createElement(E.a.Check,{type:"checkbox",label:"Check me out"})),r.a.createElement(y.a,{onClick:this.localhandleSubmit,variant:"primary",type:"submit"},"Submit"))}}]),a}(r.a.Component),B=function(e){return console.log(e),r.a.createElement("div",null,r.a.createElement(O.a,null,r.a.createElement(C.a,null,r.a.createElement(A.a,null,r.a.createElement("h1",{style:{textAlign:"center",color:"#007BFF"}},"SIGN IN"),r.a.createElement(U,Object.assign({},e,{formName:"login"}))),r.a.createElement(A.a,null,r.a.createElement("h1",{style:{textAlign:"center",color:"#007BFF"}},"SIGN UP"),r.a.createElement(U,Object.assign({formName:"signup"},e))))))},R=a(63),G=a(102),P=function(e){console.log(e);var t=e.elem,a=t.caption,n=(t._id,t.text),l=t.image;return r.a.createElement(G.a,{style:{width:"18rem",marginRight:"auto",marginLeft:"auto",marginTop:"auto",marginBottom:"auto"},className:"mx-auto my-2"},r.a.createElement(G.a.Body,null,r.a.createElement(G.a.Img,{variant:"top",src:""!=l?"data:image/jpeg;base64,".concat(l):"https://react-bootstrap.netlify.app/logo.svg"}),r.a.createElement(G.a.Title,null,n),r.a.createElement(G.a.Text,null,a),function(e){var t=e.split(" "),a=t.length,n=0,r=[];for(n=0;n<a;n++)"#"==t[n][0]&&r.push(t[n]);return r}(a).map((function(e,t){return r.a.createElement(g.b,{to:"#"}," "+e+" ")}))))},D=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(u.a)(this,a),(n=t.call(this,e)).trymakeRequest=function(){var e=Object(i.a)(s.a.mark((function e(t){var a;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k()({url:"/tweet/".concat(n.props.username,"/all"),headers:{Authorization:"Bearer ".concat(n.props.token)}});case 3:if(a=e.sent,console.log(a),200!=a.status){e.next=21;break}if(!a.data.tweets[0]){e.next=13;break}return e.next=9,n.setState({data:a.data.tweets[0].tweet});case 9:return e.next=11,n.setState({loaded:!0});case 11:e.next=17;break;case 13:return e.next=15,n.setState({data:[]});case 15:return e.next=17,n.setState({loaded:!0});case 17:return e.next=19,window.localStorage.setItem("tweets",JSON.stringify(n.state.data.splice(0,t)));case 19:e.next=24;break;case 21:return console.log("Something went wrong !"),e.next=24,n.makeRequest();case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(0),console.log(e.t0);case 29:case"end":return e.stop()}}),e,null,[[0,26]])})));return function(t){return e.apply(this,arguments)}}(),n.makeRequest=Object(i.a)(s.a.mark((function e(){var t;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k()({url:"/tweet/".concat(n.props.username,"/all"),headers:{Authorization:"Bearer ".concat(n.props.token)}});case 3:if(t=e.sent,console.log(t),200!=t.status){e.next=14;break}return e.next=8,n.setState({data:t.data.tweets[0].tweet});case 8:return e.next=10,n.setState({loaded:!0});case 10:return e.next=12,window.localStorage.setItem("tweets",JSON.stringify(n.state.data.splice(0,5)));case 12:e.next=17;break;case 14:return console.log("Something went wrong !"),e.next=17,n.makeRequest();case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),n.state={loaded:!1,data:[]},n}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null!=window.localStorage.getItem("tweets")&&this.setState({loaded:!0,data:Object(R.a)(JSON.parse(window.localStorage.getItem("tweets")))}),e.next=3,this.trymakeRequest(8);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(O.a,null,r.a.createElement(C.a,null,this.state.loaded?this.state.data.map((function(e,t){return r.a.createElement(P,{key:t,elem:e})})):r.a.createElement(T,null))))}}]),a}(r.a.Component),q=Object(h.g)(D),H=function(e){Object(d.a)(a,e);var t=Object(p.a)(a);function a(){var e;return Object(u.a)(this,a),(e=t.call(this)).handleSignOut=Object(i.a)(s.a.mark((function t(){return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({username:"",email:"",token:""});case 2:window.localStorage.clear();case 3:case"end":return t.stop()}}),t)}))),e.handleChange=function(){var t=Object(i.a)(s.a.mark((function t(a){var n,r,l,o,c;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=a.data,r=n.token,l=n.user,o=l.username,c=l.email,t.next=5,e.setState({username:o,token:r,email:c});case 5:window.localStorage.setItem("state",""),window.localStorage.setItem("state",JSON.stringify(e.state));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e.state={username:"",email:"",token:""},e}return Object(m.a)(a,[{key:"componentDidMount",value:function(){var e=Object(i.a)(s.a.mark((function e(){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.setState(JSON.parse(window.localStorage.getItem("state")));case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(b,Object.assign({},this.state,{handleSignOut:this.handleSignOut})),r.a.createElement("div",{className:"container"},r.a.createElement(h.d,null,r.a.createElement(h.b,{path:"/",exact:!0,render:function(){return e.state.username?r.a.createElement(S,e.state):r.a.createElement("div",{style:{verticalAlign:"center",textAlign:"center",marginTop:"10%",fontWeight:"bolder",fontSize:window.innerWidth>600?window.innerWidth/15:window.innerWidth/10}},"TWEETIT",r.a.createElement("div",{style:{verticalAlign:"center",textAlign:"center",marginTop:"2%",fontWeight:"bolder",fontSize:window.innerWidth>600?window.innerWidth/50:window.innerWidth/30}},r.a.createElement(g.b,{to:"/login"},"SIGN UP/ SIGN IN")," TO CONTINUE !"))}}),r.a.createElement(h.b,{path:"/:username/all",render:function(){return e.state.username?r.a.createElement(q,e.state):r.a.createElement(h.a,{from:"/:username/all",to:"/login"})}}),r.a.createElement(h.b,{path:"/toptags",component:W}),r.a.createElement(h.b,{path:"/login",render:function(){return e.state.username?r.a.createElement(h.a,{to:"/"}):r.a.createElement(B,Object.assign({},e.state,{handleChange:e.handleChange,handleSubmit:e.handleSubmit}))}}))))}}]),a}(r.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(95);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(g.a,null,r.a.createElement(H,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[64,1,2]]]);
//# sourceMappingURL=main.6ace71c8.chunk.js.map