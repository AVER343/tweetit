(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{110:function(e,t,a){e.exports=a(177)},111:function(e,t,a){},117:function(e,t,a){},173:function(e,t){},177:function(e,t,a){"use strict";a.r(t);a(111),a(112),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var n=a(24),r=a(47),c=(a(114),a(98)),o=a(27),s={ADD_ERRORS:"ADD_ERRORS",DELETE_ERRORS:"DELETE_ERRORS"},l={errors:[]},i=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case s.ADD_ERRORS:return Object(o.a)({},t.payload);case s.DELETE_ERRORS:return null;default:return e}},u={UPDATE_SUCCESS:"UPDATE_SUCCESS",UPDATE_FAILURE:"FAILURE",ONLY_IMAGE:"IMAGE_ONLY"},m=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u.UPDATE_SUCCESS:return Object(o.a)(Object(o.a)({},e),t.payload);case u.UPDATE_FAILURE:return null;case u.ONLY_IMAGE:return{image:e.image};default:return e}},p={ADD_SUCCESS:"ADD_SUCCESS",DELETE_SUCCESS:"DELETE_SUCCESS"},d={success:[]},h=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case p.ADD_SUCCESS:return Object(o.a)({},t.payload);case p.DELETE_SUCCESS:return null;default:return e}},f=a(99),E={LOGOUT:"LOGOUT",LOGIN_SUCCESS:"SUCCESS_LOGIN",LOGIN_FAILURE:"FAILURE",SIGN_UP_SUCCESS:"SIGN_UP_SUCCESS",SIGN_UP_FAILURE:"SIGN_UP_FAILURE"},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E.LOGIN_SUCCESS:return{email:t.payload.user.email,username:t.payload.user.name,token:t.payload.token};case E.LOGIN_FAILURE:case E.LOGOUT:return null;default:return e}},b={key:"root",storage:a.n(f).a,whitelist:["user","profile"]},v=Object(n.c)({user:g,errors:i,profile:m,success:h}),w=Object(r.a)(b,v),x=[c.a];var y=Object(n.d)(w,n.a.apply(void 0,x)),O=Object(r.b)(y),C=(r.b,a(117),a(184)),k=function(e){return{type:s.ADD_ERRORS,payload:e}},j=function(){return{type:s.DELETE_ERRORS}},S=a(0),A=a.n(S),R=a(13);function T(){return y.getState().user.token}function U(){return y.getState().user}var L=a(3),D=a.n(L),_=a(6),I=a(8),N=a(36),G=a(179),P=a(101),B=a(7),z=a.n(B),W=a(12),F=Object(W.b)(null,(function(e){return{ERROR_ADDING:function(t){return e(k(t))},ERROR_DELETING:function(){return e(j())}}}))(Object(R.g)((function(e){var t,a=Object(S.useState)((null===(t=U())||void 0===t?void 0:t.email)?U().email:""),n=Object(I.a)(a,2),r=n[0],c=n[1],o=function(){var t=Object(_.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ERROR_DELETING();case 2:return t.prev=2,t.next=5,z()({url:"http://localhost:7000/password/reset",method:"POST",data:{email:r}});case 5:t.sent,alert("An Email has been sent to the provided email address ! "),e.history.push("/"),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(2),t.t0.response&&e.ERROR_ADDING(t.t0.response.data),console.log(t.t0);case 14:case"end":return t.stop()}}),t,null,[[2,10]])})));return function(){return t.apply(this,arguments)}}();return A.a.createElement(N.a,{className:"container"},A.a.createElement(N.a.Group,{as:G.a,controlId:"formPlaintextPassword"},A.a.createElement(N.a.Label,{column:!0,sm:"2"},"Enter the Email :"),A.a.createElement(P.a,{sm:"10"},A.a.createElement(N.a.Control,{style:{width:"300px"},value:r,onChange:function(e){return c(e.target.value)},placeholder:"Email"}))),A.a.createElement("button",{type:"button",onClick:o,class:"btn btn-outline-success"},"Submit"))}))),M=a(180),q=a(102),H=function(){var e=Object(S.useState)([]),t=Object(I.a)(e,2),a=t[0],n=t[1];Object(S.useEffect)((function(){function e(){return(e=Object(_.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z()({url:"http://localhost:7000/friends/sent",method:"GET",headers:{Authorization:"Bearer "+T()}});case 2:return t=e.sent,e.next=5,n(t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[a.length]);var r=function(){var e=Object(_.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z()({url:"http://localhost:7000/friends/request/sent/"+t.name,method:"DELETE",headers:{Authorization:"Bearer "+T()}});case 3:return e.next=5,z()({url:"http://localhost:7000/friends/sent",method:"GET",headers:{Authorization:"Bearer "+T()}});case 5:return a=e.sent,e.next=8,n(a.data);case 8:e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0.response);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t){return e.apply(this,arguments)}}();return A.a.createElement("table",{class:"table table-hover"},A.a.createElement("thead",null,A.a.createElement("tr",null,A.a.createElement("th",{scope:"col"},"#"),A.a.createElement("th",{scope:"col"},"User"),A.a.createElement("th",{scope:"col"},"Email"),A.a.createElement("th",{scope:"col"},"Name"),A.a.createElement("th",{scope:"col"},"Actions")),a.map((function(e,t){return A.a.createElement("tr",{key:t},A.a.createElement("td",null,t+1),A.a.createElement("td",null,A.a.createElement(M.a,{roundedCircle:!0,style:{width:"50px",height:"50px"},src:e.image?"data:image/jpeg;base64,".concat(e.image):"https://www.flaticon.com/svg/static/icons/svg/848/848006.svg"})),A.a.createElement("td",null,e.profile.email),A.a.createElement("td",null,e.name),A.a.createElement("td",null,A.a.createElement(q.a,{onClick:function(){return r(e)},style:{display:"inline",marginLeft:"50px"},variant:"outline-danger",type:"submit"},"Cancel Request ?")))}))),A.a.createElement("tbody",null))},Y=function(){var e=Object(S.useState)([]),t=Object(I.a)(e,2),a=t[0],n=t[1];function r(){return c.apply(this,arguments)}function c(){return(c=Object(_.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z()({url:"http://localhost:7000/friends/received",method:"GET",headers:{Authorization:"Bearer "+T()}});case 2:return t=e.sent,e.next=5,n(t.data);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(S.useEffect)((function(){r()}),[]);var o=function(){var e=Object(_.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z()({url:"http://localhost:7000/friends/request/recieved/"+t,method:"DELETE",headers:{Authorization:"Bearer "+T()}});case 3:200==e.sent.status&&r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(_.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z()({url:"http://localhost:7000/friends/request/recieved/"+t,method:"POST",headers:{Authorization:"Bearer "+T()}});case 3:200==e.sent.status&&r(),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0.message);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}();return A.a.createElement("table",{class:"table table-hover"},A.a.createElement("thead",null,A.a.createElement("tr",null,A.a.createElement("th",{scope:"col"},"#"),A.a.createElement("th",{scope:"col"},"User"),A.a.createElement("th",{scope:"col"},"Email"),A.a.createElement("th",{scope:"col"},"Name"),A.a.createElement("th",{scope:"col"},"Actions")),a.map((function(e,t){return A.a.createElement("tr",{key:t,style:{textAlign:"center"}},A.a.createElement("td",null,t+1),A.a.createElement("td",null,A.a.createElement(M.a,{roundedCircle:!0,style:{width:"50px",height:"50px"},src:e.image?"data:image/jpeg;base64,".concat(e.image):"https://www.flaticon.com/svg/static/icons/svg/848/848006.svg"})),A.a.createElement("td",null,e.email),A.a.createElement("td",null,e.name),A.a.createElement("td",null,A.a.createElement(q.a,{onClick:function(){return s(e.name)},style:{display:"inline",marginLeft:"50px"},variant:"outline-success",type:"submit"},"Accept Request"),A.a.createElement(q.a,{onClick:function(){return o(e.name)},style:{display:"inline",marginLeft:"50px"},variant:"outline-danger",type:"submit"},"Cancel Request ?")))}))),A.a.createElement("tbody",null))},J=Object(R.g)((function(e){var t=Object(S.useState)([]),a=Object(I.a)(t,2);a[0],a[1];return Object(S.useEffect)((function(){function e(){return(e=Object(_.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()})),A.a.createElement("div",null,A.a.createElement("div",{className:"container",style:{textAlign:"center"}},A.a.createElement(C.a,{key:"1",variant:"warning"},"Request SENT :"),A.a.createElement(H,null),A.a.createElement(C.a,{key:"2",variant:"success"},"Request RECEIVED :"),A.a.createElement(Y,null)))})),K=a(100),V=a(9),Q=a(26),$=a(72),X=function(e){return{type:E.LOGIN_SUCCESS,payload:e}},Z=function(){return{type:E.LOGIN_FAILURE}},ee=function(){return{type:E.LOGOUT}},te=a(40),ae=a.n(te),ne=ae()("http://localhost:7000"),re=Object(R.g)(Object(W.b)((function(e){return{user:e.user,profile:e.profile}}),(function(e){return{LOGOUT:function(){return e(function(){var e=Object(_.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z()({method:"post",url:"http://localhost:7000/logout",headers:{Authorization:"Bearer ".concat(T())}});case 3:e.sent.status,t(ee()),e.next=9;break;case 7:e.prev=7,e.t0=e.catch(0);case 9:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}())},ERROR_ADDING:function(t){return e(k(t))}}}))((function(e){var t=Object(S.useState)(0),a=Object(I.a)(t,2),n=a[0],r=a[1],c=Object(S.useState)(""),o=Object(I.a)(c,2),s=o[0],l=o[1];ne.on("NEW_USER",(function(e){r(e)}));var i=function(){var t=Object(_.a)(D.a.mark((function t(a){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.a.get("http://localhost:7000/username/".concat(a),{headers:{Authorization:"Bearer ".concat(T()),"Content-Type":"multipart/form-data"}});case 2:200==(n=t.sent).status&&(n.data.users.length>0?e.history.push({pathname:"/search/".concat(a),state:{users:n.data.users}}):e.ERROR_ADDING({errors:[{error:"No user with related username !"}]}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return A.a.createElement($.a,{className:"navbar-fixed-top",bg:"dark",variant:"dark"},A.a.createElement($.a.Brand,null,A.a.createElement("img",{src:"https://i.ibb.co/6vjCjWK/OnlyLoGO.png",width:"30",height:"30",className:"d-inline-block align-top"})," ",A.a.createElement(V.b,{to:"/",style:{color:"white"}},"TWEETIT")),A.a.createElement(Q.a,{className:"mr-auto"},A.a.createElement(Q.a,{style:{color:"#C0C0C0"}},"Online : ",n," ")),A.a.createElement(N.a,{inline:!0},A.a.createElement(Q.a.Link,null,A.a.createElement(V.b,{to:"/toptags"},"Top Tags".toUpperCase())),e.user?A.a.createElement(Q.a.Link,{href:""},A.a.createElement(V.b,{to:"/friend"},"Requests".toUpperCase())):null,e.user?A.a.createElement(Q.a.Link,{href:""},A.a.createElement(V.b,{to:"/friends/all"},"Friends".toUpperCase())):null,e.user?null:A.a.createElement(Q.a.Link,{href:""},A.a.createElement(V.b,{to:"/login"},"login".toUpperCase())),e.user?A.a.createElement(Q.a.Link,{href:"#"},A.a.createElement(V.b,{to:"/".concat(e.user.username,"/all")},"your tweets".toUpperCase())):null,e.user?A.a.createElement(Q.a.Link,{href:"#"},A.a.createElement(V.b,{to:"/profile/".concat(e.user.username)},A.a.createElement(M.a,{roundedCircle:!0,src:e.profile&&e.profile.image?"data:image/jpeg;base64,".concat(e.profile.image):"https://www.flaticon.com/svg/static/icons/svg/848/848006.svg",width:"30",height:"30",className:"d-inline-block align-top",style:{marginRight:"10px"}})," ")):null,e.user?A.a.createElement(N.a,{inline:!0},A.a.createElement(K.a,{type:"text",value:s,onChange:function(e){return l(e.target.value)},placeholder:"Search",className:"mr-sm-2"}),A.a.createElement(q.a,{onClick:function(){return i(s)},variant:"outline-info"},"Search"),e.user?A.a.createElement(Q.a.Link,{href:"#",onClick:function(){return e.LOGOUT()}},"Signout".toUpperCase()):null):null))}))),ce=a(31),oe=a(19),se=a(20),le=a(22),ie=a(21),ue=a(29),me=function(e){return{type:u.UPDATE_SUCCESS,payload:e}},pe=function(e){return function(){var t=Object(_.a)(D.a.mark((function t(a){var n,r,c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,e!=U().username){t.next=7;break}return t.next=4,z()({method:"get",url:"http://localhost:7000/profile",headers:{Authorization:"Bearer ".concat(T())}});case 4:n=t.sent,t.next=12;break;case 7:return t.next=9,a({type:u.ONLY_IMAGE});case 9:return t.next=11,z()({method:"get",url:"http://localhost:7000/profile/".concat(e),headers:{Authorization:"Bearer ".concat(T())}});case 11:n=t.sent;case 12:if(200!==n.status){t.next=40;break}return t.next=15,a(j());case 15:return t.next=17,a(me(n.data.user));case 17:return t.next=19,a(me({isMe:n.data.isMe}));case 19:if(!n.data.image||e!=U().username){t.next=27;break}return r=btoa(String.fromCharCode.apply(String,Object(ue.a)(new Uint8Array(n.data.image.data)))),t.next=23,a(me({image:r}));case 23:return t.next=25,a(me({temporaryImage:""}));case 25:t.next=38;break;case 27:if(!n.data.image){t.next=33;break}return c=btoa(String.fromCharCode.apply(String,Object(ue.a)(new Uint8Array(n.data.image.data)))),t.next=31,a(me({temporaryImage:c}));case 31:t.next=38;break;case 33:if(n.data.image||e!=U().username){t.next=38;break}return t.next=36,a(me({image:""}));case 36:return t.next=38,a(me({temporaryImage:""}));case 38:t.next=40;break;case 40:t.next=45;break;case 42:t.prev=42,t.t0=t.catch(0),t.t0.response?a(k(t.t0.response.data)):a(k({errors:[{error:"something went wrong!"}]}));case 45:case"end":return t.stop()}}),t,null,[[0,42]])})));return function(e){return t.apply(this,arguments)}}()},de=function(e){Object(le.a)(a,e);var t=Object(ie.a)(a);function a(e){var n;return Object(oe.a)(this,a),(n=t.call(this,e)).onSubmit=function(){var e=Object(_.a)(D.a.mark((function e(t){var a,r,c,o,s,l;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.preventDefault(),t.persist(),a=n.state,r=a.tweet,c=a.caption,o=a.fileToUpload,(s=new FormData).append("username",n.props.user.username),s.append("image",o),s.append("tweet",r.trim()),s.append("caption",c.trim()),e.next=11,z.a.post("http://localhost:7000/tweet",s,{headers:{Authorization:"Bearer ".concat(T()),"Content-Type":"multipart/form-data"}});case 11:return l=e.sent,e.next=14,n.setState({disabled:!1});case 14:if(200!=l.status){e.next=21;break}return e.next=17,n.setState({tweet:"",caption:"",fileToUpload:null});case 17:return e.next=19,n.setState({disabled:!1});case 19:e.next=25;break;case 21:return console.log("ERROR"),alert("Something went wrong !"),e.next=25,n.setState({disabled:!1});case 25:document.getElementById("input").value="",e.next=31;break;case 28:e.prev=28,e.t0=e.catch(0),console.log(e.t0.response);case 31:case"end":return e.stop()}}),e,null,[[0,28]])})));return function(t){return e.apply(this,arguments)}}(),n.fileChangedHandler=function(e){e.persist();var t=e.target.files[0];n.setState({fileToUpload:t})},n.handleChange=function(){var e=Object(_.a)(D.a.mark((function e(t){var a,r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.persist(),a=t.target,r=a.name,c=a.value,!("caption"==r&&c.length>150)){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,n.setState(Object(ce.a)({},r,c));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.state={tweet:"",caption:"",fileToUpload:null,disabled:!1},n}return Object(se.a)(a,[{key:"componentDidMount",value:function(){this.props.ASYNC_GET(this.props.currentUser.username)}},{key:"render",value:function(){return A.a.createElement("div",null,A.a.createElement("div",{style:{verticalAlign:"center",textAlign:"center",marginTop:"10%",fontWeight:"bolder",fontSize:window.innerWidth>600?window.innerWidth/15:window.innerWidth/10}},A.a.createElement("img",{src:"https://i.ibb.co/6vjCjWK/OnlyLoGO.png",width:window.innerWidth>600?window.innerWidth/15:window.innerWidth/10,height:window.innerWidth>600?window.innerWidth/15:window.innerWidth/10,className:"d-inline-block align-top"})," TWEETIT"),A.a.createElement(N.a,{style:{marginLeft:"auto",marginRight:"auto",verticalAlign:"center",textAlign:"center",margintop:"10%",fontWeight:"bolder",width:window.innerWidth>600?window.innerWidth/3:"100%"}},A.a.createElement(N.a.Group,{controlId:"formGroupPassword"},A.a.createElement(N.a.Control,{value:this.state.tweet,onChange:this.handleChange,name:"tweet",type:"text",placeholder:"Tweet",style:{marginTop:"10px",marginLeft:"auto",marginRight:"auto"}}),A.a.createElement(N.a.Control,{value:this.state.caption,onChange:this.handleChange,name:"caption",type:"text",placeholder:"Caption",style:{marginTop:"10px",marginLeft:"auto",marginRight:"auto"}}),A.a.createElement("input",{id:"input",type:"file",onChange:this.fileChangedHandler}),A.a.createElement(q.a,{disabled:this.state.disabled,onClick:this.onSubmit,style:{marginTop:"10px"}},"TWEETIT"))))}}]),a}(A.a.Component),he=Object(W.b)((function(e){return{user:e.user,currentUser:e.user}}),(function(e){return{ASYNC_GET:function(t){return e(pe(t))}}}))(de),fe=a(181),Ee=ae()("http://localhost:7000"),ge=Object(R.g)((function(e){var t=Object(S.useState)([]),a=Object(I.a)(t,2),n=a[0],r=a[1];Ee.on("new_message",(function(e){var t=e.message,a=e.email;r(n.concat({message:t,author:a}))})),Object(S.useEffect)((function(){function t(){return(t=Object(_.a)(D.a.mark((function t(){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z()({url:"http://localhost:7000/messages/".concat(e.location.pathname.split("/")[2]),method:"GET",headers:{Authorization:"Bearer "+T()}});case 2:(a=t.sent).data.message[0]&&(r(a.data.message[0].messaging),Ee.emit("join",a.data.message[0]._id));case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}!function(){t.apply(this,arguments)}()}),[]);var c=function(){var t=Object(_.a)(D.a.mark((function t(){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(""!=l){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,z()({url:"http://localhost:7000/messages/".concat(e.location.pathname.split("/")[2]),method:"POST",data:{message:l},headers:{Authorization:"Bearer "+T()}});case 4:a=t.sent,Ee.emit("new_message",{id:a.data.message._id,message:l,email:U().email}),i("");case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),o=Object(S.useState)(""),s=Object(I.a)(o,2),l=s[0],i=s[1];return A.a.createElement("div",{className:"container"},A.a.createElement("h1",{style:{textAlign:"center"}},e.location.pathname.split("/")[2]),n.map((function(e,t){return A.a.createElement("div",null,A.a.createElement("div",{scope:"row",style:e.author==U().username?{textAlign:"right"}:{textAlign:"left"}}," ",A.a.createElement(C.a,{key:t,variant:e.author==U().username?"primary":"secondary"},e.message)))})),A.a.createElement(fe.a,{className:"mb-3"},A.a.createElement(K.a,{placeholder:"Enter message","aria-label":"Enter message","aria-describedby":"basic-addon2",value:l,onChange:function(e){return i(e.target.value)}}),A.a.createElement(fe.a.Append,null,A.a.createElement(q.a,{variant:"outline-secondary",onClick:c},"Send "))))})),be=a(182),ve=function(){var e=Object(S.useState)([]),t=Object(I.a)(e,2),a=t[0],n=t[1];return Object(S.useEffect)((function(){(function(){var e=Object(_.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z()({url:"http://localhost:7000/friends/all",method:"GET",headers:{Authorization:"Bearer "+T()}});case 2:return t=e.sent,e.next=5,n(t.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]),A.a.createElement("div",null,A.a.createElement(be.a,{striped:!0,bordered:!0,hover:!0},A.a.createElement("thead",null,A.a.createElement("tr",null,A.a.createElement("th",null,"#"),A.a.createElement("th",null,"Name"),A.a.createElement("th",null,"Email"),A.a.createElement("th",null,"Message"))),A.a.createElement("tbody",null,a.map((function(e,t){return A.a.createElement("tr",{key:t},A.a.createElement("td",null,t+1),A.a.createElement("td",null,A.a.createElement(M.a,{roundedCircle:!0,style:{width:"50px",height:"50px"},src:e.image?"data:image/jpeg;base64,".concat(e.image):"https://www.flaticon.com/svg/static/icons/svg/848/848006.svg"})," ",e.name),A.a.createElement("td",null,e.email),A.a.createElement("td",null,A.a.createElement(q.a,{variant:"outline-info"},A.a.createElement(V.b,{to:"/message/".concat(e.name)},"Message"))))})))))},we=Object(W.b)(null,(function(e){return{ERROR_ADDING:function(t){return e(k(t))},ERROR_DELETING:function(){return e(j())}}}))(Object(R.g)((function(e){var t=Object(S.useState)(""),a=Object(I.a)(t,2),n=a[0],r=a[1],c=Object(S.useState)(""),o=Object(I.a)(c,2),s=o[0],l=o[1],i=function(){var t=Object(_.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.ERROR_DELETING();case 2:return t.prev=2,t.next=5,z()({url:"http://localhost:7000/password/reset/".concat(e.location.pathname.split("/")[3]),method:"POST",data:{password:n,confirmPassword:s}});case 5:200==t.sent.status&&(alert("Your Password has been successfully chaanged !"),e.history.push("/")),t.next=13;break;case 9:t.prev=9,t.t0=t.catch(2),console.log(t.t0),t.t0.response&&e.ERROR_ADDING(t.t0.response.data);case 13:case"end":return t.stop()}}),t,null,[[2,9]])})));return function(){return t.apply(this,arguments)}}();return A.a.createElement("div",{className:"container",style:{marginTop:window.innerHeight/3,width:window.innerWidth/2}},A.a.createElement(N.a,null,A.a.createElement(N.a.Group,{as:G.a,controlId:"formPlaintextPassword"},A.a.createElement(N.a.Label,{column:!0,sm:"2"},"Password"),A.a.createElement(P.a,{sm:"10"},A.a.createElement(N.a.Control,{value:n,onChange:function(e){return r(e.target.value)},type:"password",placeholder:"Confirm Password"}))),A.a.createElement(N.a.Group,{as:G.a,controlId:"formPlaintextPassword"},A.a.createElement(N.a.Label,{column:!0,sm:"2"},"Confirm Password"),A.a.createElement(P.a,{sm:"10"},A.a.createElement(N.a.Control,{value:s,onChange:function(e){return l(e.target.value)},type:"password",placeholder:"Confirm Password"}))),A.a.createElement(q.a,{variant:"outline-secondary",onClick:i},"Secondary")))}))),xe=a(183),ye=function(e){return A.a.createElement("div",{class:"form-group row"},A.a.createElement("label",{class:"col-sm-2 col-form-label"},e.name),A.a.createElement("div",{class:"col-sm-10"},A.a.createElement("input",{type:"text",value:e.value,onChange:e.onChange,class:"form-control",id:"inputPassword",placeholder:"Enter ".concat(e.name)})))},Oe=Object(W.b)((function(e){return{privateState:e.profile.private}}),(function(e){return{UPDATE_DATA:function(t){return e(function(e){return function(){var t=Object(_.a)(D.a.mark((function t(a){var n,r;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z()({method:"post",url:"http://localhost:7000/profile",headers:{Authorization:"Bearer ".concat(T())},data:e});case 3:if(200!==(n=t.sent).status){t.next=18;break}return t.next=7,a(j());case 7:return t.next=9,a(me(n.data.user));case 9:return t.next=11,a(me({isMe:n.data.isMe}));case 11:return r=btoa(String.fromCharCode.apply(String,Object(ue.a)(new Uint8Array(n.data.image.data)))),t.next=14,a(me({image:r}));case 14:return t.next=16,a(me({temporaryImage:""}));case 16:t.next=19;break;case 18:console.log("error");case 19:t.next=24;break;case 21:t.prev=21,t.t0=t.catch(0),console.log(JSON.stringify(t.t0));case 24:case"end":return t.stop()}}),t,null,[[0,21]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(S.useState)(e.privateState),a=Object(I.a)(t,2),n=a[0],r=a[1],c=Object(S.useState)(e.fullname),o=Object(I.a)(c,2),s=o[0],l=o[1],i=Object(S.useState)(e.address),u=Object(I.a)(i,2),m=u[0],p=u[1],d=Object(S.useState)(e.mobile),h=Object(I.a)(d,2),f=h[0],E=h[1],g=Object(S.useState)(e.age),b=Object(I.a)(g,2),v=b[0],w=b[1],x=function(){var t=Object(_.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.UPDATE_DATA({fullname:s,address:m,mobile:f,age:v});case 2:t.sent;case 3:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),y=function(){var t=Object(_.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.UPDATE_DATA({private:!n});case 2:return t.next=4,r(!n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(S.useEffect)((function(){}),[e.private,e.privateState]),A.a.createElement("div",null,A.a.createElement("form",null,A.a.createElement(ye,{name:"Fullname",value:s,onChange:function(e){return l(e.target.value)}}),A.a.createElement(ye,{name:"Age",value:v,onChange:function(e){return w(e.target.value)}}),A.a.createElement(ye,{name:"Mobile",value:f,onChange:function(e){return E(e.target.value)}}),A.a.createElement(ye,{name:"Address",value:m,onChange:function(e){return p(e.target.value)}}),A.a.createElement("div",{className:"custom-control custom-switch",style:{marginLeft:"auto"}},A.a.createElement("button",{type:"button",onClick:x,class:"btn btn-outline-success"},"Update"),A.a.createElement("button",{style:{marginLeft:"15px"},type:"button",onClick:y,class:"btn btn-outline-".concat(n?"danger":"success")},n?"Make account Public":"Make account Private"))))})),Ce=Object(R.g)((function(e){var t=Object(S.useState)(!1),a=Object(I.a)(t,2),n=a[0],r=a[1];Object(S.useEffect)((function(){try{(function(){var t=Object(_.a)(D.a.mark((function t(){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.profile.name){t.next=6;break}return t.next=3,z()({url:"http://localhost:7000/friends/isfriend/".concat(e.profile.name),headers:{Authorization:"Bearer ".concat(T())}});case 3:return a=t.sent,t.next=6,r(a.data.isfriend);case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}catch(t){console.log(t.response)}}),[n]);var c=function(){var t=Object(_.a)(D.a.mark((function t(){return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z()({url:"http://localhost:7000/add/friend/".concat(e.profile.name),method:"POST",headers:{Authorization:"Bearer ".concat(T())}});case 3:t.sent,r(!0),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.log(t.t0.response);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return A.a.createElement("div",null,e.profile.isMe||n?null:A.a.createElement(q.a,{variant:"outline-success",onClick:function(){return c()}},"SEND FRIEND REQUEST"),Object.keys(e.profile).map((function(t,a){if(!["image","isme","private","temporaryimage"].includes(t.toLowerCase()))return["aboutme"].includes(t.toLowerCase())?e.profile.aboutme?A.a.createElement("form",null,A.a.createElement("div",{class:"form-group row"},A.a.createElement("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},"About me"),A.a.createElement("div",{class:"col-sm-10"},A.a.createElement("textarea",{style:{height:"150px"},disabled:!0,class:"form-control",id:"exampleFormControlTextarea1",value:e.profile.aboutme,rows:"3"})," "))):null:e.profile[t]?A.a.createElement("form",null,A.a.createElement("div",{class:"form-group row"},A.a.createElement("label",{for:"inputPassword",class:"col-sm-2 col-form-label"},t.charAt(0).toUpperCase()+t.slice(1)),A.a.createElement("div",{class:"col-sm-10"},A.a.createElement("input",{value:e.profile[t],type:"text",class:"form-control",id:"inputPassword",placeholder:t.charAt(0).toUpperCase()+t.slice(1)})))):null})).filter((function(e){return e})))})),ke=function(e){Object(le.a)(a,e);var t=Object(ie.a)(a);function a(e){var n;return Object(oe.a)(this,a),(n=t.call(this,e)).fileChangedHandler=function(){var e=Object(_.a)(D.a.mark((function e(t){var a,r,c;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.persist(),a=t.target.files[0],e.next=5,n.setState({fileToUpload:a});case 5:return(r=new FormData).append("image",n.state.fileToUpload),e.next=9,z.a.post("http://localhost:7000/profile",r,{headers:{Authorization:"Bearer ".concat(T()),"Content-Type":"multipart/form-data"}});case 9:e.sent,c=n.props.location.pathname.split("/"),n.props.GET_DATA(c[2]),document.getElementById("input").value="",e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),n.state={fileToUpload:null,imageURL:null,disabled:!1,aboutMe:"",static:!0},n}return Object(se.a)(a,[{key:"componentDidMount",value:function(){var e=Object(_.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.location.pathname.split("/"),e.next=3,this.props.GET_DATA(t[2]);case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"componentDidUpdate",value:function(){var e=Object(_.a)(D.a.mark((function e(t){var a;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.props.location.pathname==t.location.pathname){e.next=4;break}return a=this.props.location.pathname.split("/"),e.next=4,this.props.GET_DATA(a[2]);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t,a=this;return A.a.createElement("div",{className:"container"},(null===(e=this.props.profile)||void 0===e?void 0:e.name)==U().username?A.a.createElement("div",{className:"custom-control custom-switch",style:{marginRight:"auto"}},A.a.createElement("button",{type:"button",class:this.state.static?"btn btn-outline-primary":"btn btn-outline-secondary",onClick:function(){return a.setState({static:!a.state.static})}},this.state.static?"UPDATE PROFILE":"GO BACK")):null,A.a.createElement(xe.a,{style:{margin:"20px"}},A.a.createElement(G.a,null,A.a.createElement(P.a,{xs:3,md:2},A.a.createElement(M.a,{src:this.props.profile?this.props.profile.temporaryImage?"data:image/jpeg;base64,".concat(this.props.profile.temporaryImage):this.props.profile.image&&this.props.profile.name==U().username?"data:image/jpeg;base64,".concat(this.props.profile.image):"https://www.flaticon.com/svg/static/icons/svg/848/848006.svg":"https://www.flaticon.com/svg/static/icons/svg/848/848006.svg",roundedCircle:!0}),this.props.profile&&(null===(t=this.props.profile)||void 0===t?void 0:t.isMe)?A.a.createElement("input",{onChange:this.fileChangedHandler,id:"input",type:"file"}):null),A.a.createElement(P.a,{xs:6,md:4,style:{marginTop:"20px",marginLeft:"50px"}}))),this.props.profile?this.state.static?A.a.createElement(Ce,{profile:this.props.profile}):A.a.createElement(Oe,this.props.profile):null)}}]),a}(A.a.Component),je=Object(R.g)(Object(W.b)((function(e){return{profile:e.profile}}),(function(e){return{GET_DATA:function(t){return e(pe(t))},GET_IMAGE:function(){return e(function(){var e=Object(_.a)(D.a.mark((function e(t){var a,n;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z()({method:"get",url:"http://localhost:7000/profile/",headers:{Authorization:"Bearer ".concat(T())}});case 3:if(200!==(a=e.sent).status){e.next=11;break}if(!a.data.image){e.next=9;break}return n=btoa(String.fromCharCode.apply(String,Object(ue.a)(new Uint8Array(a.data.image.data)))),e.next=9,t(me({image:n}));case 9:e.next=11;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),e.t0.response?t(k(e.t0.response.data)):t(k({errors:[{error:"something went wrong!"}]}));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(t){return e.apply(this,arguments)}}())},UpdateSuccess:function(t){return e(me(t))}}}))(ke)),Se=a(185),Ae=function(e){return e.users.map((function(e,t){var a;return e.image&&(a=btoa(String.fromCharCode.apply(String,Object(ue.a)(new Uint8Array(e.image.data))))),A.a.createElement("div",{class:"col-sm",style:{marginTop:"10px",textAlign:"center"}}," ",A.a.createElement(Se.a,{key:e.name,style:{width:"18rem"}},A.a.createElement(Se.a.Img,{style:{width:"100px",height:"100px",marginLeft:"auto",marginTop:"10px",marginRight:"auto"},variant:"top",src:e.image?"data:image/jpeg;base64,".concat(a):"https://www.flaticon.com/svg/static/icons/svg/848/848006.svg"}),A.a.createElement(Se.a.Body,null,A.a.createElement(Se.a.Title,null,e.name),A.a.createElement(Se.a.Text,null,e.email),A.a.createElement(V.b,{to:"/profile/".concat(e.name)},A.a.createElement(q.a,{variant:"primary"},"Profile")))))}))},Re=Object(R.g)((function(e){var t=e.users;return A.a.createElement("table",{class:"table table-hover"},A.a.createElement("thead",null,A.a.createElement("tr",null,A.a.createElement("th",{scope:"col"},"#"),A.a.createElement("th",{scope:"col"},"User"),A.a.createElement("th",{scope:"col"},"Email"))),t.map((function(t,a){var n;return t.image&&(n=btoa(String.fromCharCode.apply(String,Object(ue.a)(new Uint8Array(t.image.data))))),A.a.createElement("tbody",{onClick:function(){return e.history.push("/profile/".concat(t.name))}},A.a.createElement("tr",null,A.a.createElement("th",{scope:"row"},a+1),A.a.createElement("td",null,A.a.createElement(M.a,{roundedCircle:!0,style:{width:"50px",height:"50px"},src:t.image?"data:image/jpeg;base64,".concat(n):"https://www.flaticon.com/svg/static/icons/svg/848/848006.svg"})," "+t.name+" "),A.a.createElement("td",null,t.email)))})))})),Te=Object(W.b)(null,(function(e){return{ERROR_ADDING:function(t){return e(k(t))}}}))((function(e){var t=Object(S.useState)(null),a=Object(I.a)(t,2),n=a[0],r=a[1],c=Object(S.useState)(!0),o=Object(I.a)(c,2),s=o[0],l=o[1],i=e.location.pathname.split("/");i=i[2],Object(S.useEffect)((function(){e.location.state?r(e.location.state.users):u(i)}),[e.location.pathname.split("/")[2]]);var u=function(){var t=Object(_.a)(D.a.mark((function t(a){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,z.a.get("/username/".concat(a),{headers:{Authorization:"Bearer ".concat(T()),"Content-Type":"multipart/form-data"}});case 2:200==(n=t.sent).status&&(n.data.users.length>0?r(n.data.users):e.ERROR_ADDING({errors:[{error:"No user with related username !"}]}));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return n?A.a.createElement("div",{className:"container"},A.a.createElement("div",{className:"custom-control custom-switch",style:{marginLeft:"auto"}},A.a.createElement("input",{type:"checkbox",value:s,onChange:function(){return l(!s)},className:"custom-control-input",id:"customSwitch1"}),A.a.createElement("label",{className:"custom-control-label",for:"customSwitch1"},s?"Switch to Cards":"Switch to Tabular")),A.a.createElement("div",{className:"row"},n.length?s?A.a.createElement(Re,{users:n}):A.a.createElement(Ae,{users:n}):null)):null})),Ue=function(e){Object(le.a)(a,e);var t=Object(ie.a)(a);function a(e){var n;return Object(oe.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(_.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n.props.LOGIN({email:n.state.email,password:n.state.password});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.value,r=t.name;n.setState(Object(ce.a)({},r,a))},n.handleOnclick=function(){n.props.history.push("/password/reset")},n.state={email:"",password:""},n}return Object(se.a)(a,[{key:"render",value:function(){return A.a.createElement(N.a,null,A.a.createElement(N.a.Group,{controlId:"formBasicEmail"},A.a.createElement(N.a.Label,null,"Email"),A.a.createElement(N.a.Control,{value:this.state.email,name:"email",onChange:this.handleChange,type:"text",placeholder:"Enter Email"})),A.a.createElement(N.a.Group,{controlId:"formBasicPassword"},A.a.createElement(N.a.Label,null,"Password"),A.a.createElement(N.a.Control,{value:this.state.password,name:"password",onChange:this.handleChange,type:"password",placeholder:"Password"})),A.a.createElement("div",null,A.a.createElement(q.a,{style:{display:"inline"},onClick:this.handleSubmit,variant:"outline-primary",type:"submit"},"Submit"),A.a.createElement(q.a,{onClick:this.handleOnclick,style:{display:"inline",marginLeft:"50px"},variant:"outline-danger",type:"submit"},"Forgot Password ?")))}}]),a}(A.a.Component),Le=Object(R.g)(Object(W.b)(null,(function(e){return{LOGIN:function(t){e(function(e){return function(){var t=Object(_.a)(D.a.mark((function t(a){var n,r,c;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.email,r=e.password,t.prev=1,t.next=4,z.a.post("http://localhost:7000/login",{email:n,password:r});case 4:if(200!==(c=t.sent).status){t.next=12;break}return t.next=8,a(j());case 8:return t.next=10,a(X(c.data));case 10:t.next=13;break;case 12:a(Z());case 13:t.next=19;break;case 15:t.prev=15,t.t0=t.catch(1),t.t0.response&&a(k(t.t0.response.data)),a(Z());case 19:case"end":return t.stop()}}),t,null,[[1,15]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(Ue)),De=function(e){Object(le.a)(a,e);var t=Object(ie.a)(a);function a(e){var n;return Object(oe.a)(this,a),(n=t.call(this,e)).handleSubmit=function(){var e=Object(_.a)(D.a.mark((function e(t){var a,r,c,o,s;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),a=n.state,r=a.username,c=a.email,o=a.password,s=a.confirmPassword,n.props.SIGN_UP({email:c,password:o,name:r,confirmPassword:s});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.handleChange=function(e){var t=e.target,a=t.name,r=t.value;n.setState(Object(ce.a)({},a,r))},n.state={username:"",email:"",password:"",confirmPassword:""},n}return Object(se.a)(a,[{key:"render",value:function(){return A.a.createElement(N.a,null,A.a.createElement(N.a.Group,{controlId:"formBasicEmail"},A.a.createElement(N.a.Label,null,"Username"),A.a.createElement(N.a.Control,{value:this.state.username,name:"username",onChange:this.handleChange,type:"text",placeholder:"Enter Username"})),A.a.createElement(N.a.Group,null,A.a.createElement(N.a.Label,null,"Email address"),A.a.createElement(N.a.Control,{value:this.state.email,name:"email",onChange:this.handleChange,type:"email",placeholder:"Enter email"})),A.a.createElement(N.a.Group,null,A.a.createElement(N.a.Label,null,"Password"),A.a.createElement(N.a.Control,{value:this.state.password,name:"password",onChange:this.handleChange,type:"password",placeholder:"Password"})),A.a.createElement(N.a.Group,{controlId:"formBasicPassword"},A.a.createElement(N.a.Label,null,"Confirm Password"),A.a.createElement(N.a.Control,{value:this.state.confirmPassword,name:"confirmPassword",onChange:this.handleChange,type:"password",placeholder:"Password"})),A.a.createElement(N.a.Group,{controlId:"formBasicCheckbox"},A.a.createElement(N.a.Check,{type:"checkbox",label:"Check me out"})),A.a.createElement(q.a,{onClick:this.handleSubmit,variant:"outline-primary",type:"submit"},"Submit"))}}]),a}(A.a.Component),_e=Object(W.b)(null,(function(e){return{SIGN_UP:function(t){e(function(e){return function(){var t=Object(_.a)(D.a.mark((function t(a){var n;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,z.a.post("http://localhost:7000/signup",Object(o.a)({},e));case 3:if(200!==(n=t.sent).status){t.next=11;break}return t.next=7,a(j());case 7:return t.next=9,a(X(n.data));case 9:t.next=12;break;case 11:a(ee());case 12:t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),t.t0.response?a(k(t.t0.response.data)):console.log(t.t0.message);case 17:case"end":return t.stop()}}),t,null,[[0,14]])})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))(De),Ie=function(){return A.a.createElement("div",null,A.a.createElement(xe.a,null,A.a.createElement(G.a,null,A.a.createElement(P.a,null,A.a.createElement("h1",{style:{textAlign:"center",color:"#007BFF"}},"SIGN IN"),A.a.createElement(Le,null)),A.a.createElement(P.a,null,A.a.createElement("h1",{style:{textAlign:"center",color:"#007BFF"}},"SIGN UP"),A.a.createElement(_e,null)))))},Ne=a(108),Ge=function(e){var t=e.array;return A.a.createElement(be.a,{striped:!0,bordered:!0,hover:!0,style:{textAlign:"left"}},A.a.createElement("thead",null,A.a.createElement("tr",null,A.a.createElement("th",null,"#"),A.a.createElement("th",null,"HashTag".toUpperCase()),A.a.createElement("th",{style:{textAlign:"center"}},"Freqency".toUpperCase()))),A.a.createElement("tbody",null,t.map((function(e,t){return A.a.createElement("tr",{key:t},A.a.createElement("td",null,t+1),A.a.createElement("td",null,e.hashtag),A.a.createElement("td",{style:{textAlign:"center"}},e.frequency))}))))},Pe=function(){return A.a.createElement(Ne.a,{animation:"border",variant:"dark",role:"status",style:{margin:"auto",marginTop:"10%",textAlign:"center",width:window.innerWidth/6,height:window.innerWidth/6}},A.a.createElement("span",{className:"sr-only"},"Loading..."))},Be=(a(176),function(e){Object(le.a)(a,e);var t=Object(ie.a)(a);function a(){var e;return Object(oe.a)(this,a),(e=t.call(this)).handleDataChange=Object(_.a)(D.a.mark((function t(){var a;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.setState({top:e.state.top+6});case 2:return t.next=4,z()({url:"/hashtags",method:"POST",data:{top:e.state.top}});case 4:200==(a=t.sent).status&&e.setState({data:a.data.hashtags,loaded:!0});case 6:case"end":return t.stop()}}),t)}))),e.state={data:[],loaded:!1,top:6},e}return Object(se.a)(a,[{key:"componentDidMount",value:function(){var e=Object(_.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,z()({url:"/hashtags",method:"POST",data:{top:this.state.top}});case 2:200==(t=e.sent).status&&this.setState({data:t.data.hashtags,loaded:!0});case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return A.a.createElement("div",null,A.a.createElement(xe.a,null,A.a.createElement(G.a,null,this.state.loaded?A.a.createElement(Ge,{array:this.state.data}):A.a.createElement(Pe,null)),this.state.loaded?this.state.data.length%6!==0?null:A.a.createElement(q.a,{onClick:this.handleDataChange,variant:"info"},"Load More"):A.a.createElement(q.a,{variant:"primary",disabled:!0},A.a.createElement(Ne.a,{as:"span",animation:"grow",size:"sm",role:"status","aria-hidden":"true",title:"Loading"}),"Loading...")))}}]),a}(A.a.Component)),ze=function(e){var t=e.elem,a=t.caption,n=(t._id,t.text),r=t.image;return A.a.createElement(Se.a,{style:{width:"18rem",marginRight:"auto",marginLeft:"auto",marginTop:"auto",marginBottom:"auto"},className:"mx-auto my-2"},A.a.createElement(Se.a.Body,null,r.length>0?A.a.createElement(Se.a.Img,{variant:"top",src:""!=r?"data:image/jpeg;base64,".concat(r):"https://react-bootstrap.netlify.app/logo.svg"}):null,A.a.createElement(Se.a.Title,null,n),A.a.createElement(Se.a.Text,null,a),function(e){var t=e.split(" "),a=t.length,n=0,r=[];for(n=0;n<a;n++)"#"==t[n][0]&&r.push(t[n]);return r}(a).map((function(e,t){return A.a.createElement(V.b,{to:"#",key:t}," "+e+" ")}))))},We=function(e){Object(le.a)(a,e);var t=Object(ie.a)(a);function a(e){var n;return Object(oe.a)(this,a),(n=t.call(this,e)).trymakeRequest=function(){var e=Object(_.a)(D.a.mark((function e(t){var a,r;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=n.props.location.pathname.split("/"),e.next=4,z()({url:"http://localhost:7000/tweet/".concat(a[1],"/all"),headers:{Authorization:"Bearer ".concat(n.props.user.token)}});case 4:if(200!=(r=e.sent).status){e.next=19;break}if(!r.data.tweets[0]){e.next=13;break}return e.next=9,n.setState({data:r.data.tweets[0].tweet});case 9:return e.next=11,n.setState({loaded:!0});case 11:e.next=17;break;case 13:return e.next=15,n.setState({data:[]});case 15:return e.next=17,n.setState({loaded:!0});case 17:e.next=21;break;case 19:return e.next=21,n.makeRequest();case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(0),console.log(e.t0);case 26:case"end":return e.stop()}}),e,null,[[0,23]])})));return function(t){return e.apply(this,arguments)}}(),n.makeRequest=Object(_.a)(D.a.mark((function e(){var t;return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,z()({url:"http://tweetit-react.herokuapp.com/tweet/".concat(n.props.user.username,"/all"),headers:{Authorization:"Bearer ".concat(n.props.user.token)}});case 3:if(200!=(t=e.sent).status){e.next=11;break}return e.next=7,n.setState({data:t.data.tweets[0].tweet});case 7:return e.next=9,n.setState({loaded:!0});case 9:e.next=13;break;case 11:return e.next=13,n.makeRequest();case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])}))),n.state={loaded:!1,data:[]},n}return Object(se.a)(a,[{key:"componentDidMount",value:function(){var e=Object(_.a)(D.a.mark((function e(){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.trymakeRequest(8);case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return A.a.createElement("div",null,A.a.createElement(xe.a,null,A.a.createElement(G.a,null,this.state.loaded?this.state.data.map((function(e,t){return A.a.createElement(ze,{key:t,elem:e})})):A.a.createElement(Pe,null))))}}]),a}(A.a.Component),Fe=Object(W.b)((function(e){return{user:e.user}}))(Object(R.g)(We)),Me=ae()("http://localhost:7000"),qe=Object(R.g)(Object(W.b)((function(e){return{currentUser:e.user,errors:e.errors}}),(function(e){return{ERROR_DELETING:function(){return e(j())},ERROR_ADDING:function(){return e(k())},ASYNC_GET:function(t){return e(pe(t))}}}))((function(e){return window.addEventListener("beforeunload",(function(t){e.currentUser&&Me.emit("REFRESHED",e.currentUser),delete t.returnValue})),Object(S.useEffect)((function(){return e.currentUser&&Me.emit("NEW_USER",e.currentUser),function(){e.currentUser&&Me.emit("REFRESHED",e.currentUser)}})),A.a.createElement("div",{style:{size:"100%"}},A.a.createElement(re,null),A.a.createElement("div",{className:"container",style:{marginTop:"10px"}},e.errors?e.errors.errors.map((function(t,a){return A.a.createElement(C.a,{key:a,variant:"danger",onClose:function(){e.ERROR_DELETING()},dismissible:!0},A.a.createElement("b",null,t.error))})):null),A.a.createElement(R.d,null,A.a.createElement(R.b,{exact:!0,path:"/friends/all",render:function(){return e.currentUser?A.a.createElement(ve,null):A.a.createElement(R.a,{to:"/login"})}}),A.a.createElement(R.b,{exact:!0,path:"/",render:function(){return e.currentUser?A.a.createElement(he,null):A.a.createElement(R.a,{to:"/login"})}}),A.a.createElement(R.b,{exact:!0,path:"/login",render:function(){return e.currentUser?A.a.createElement(R.a,{to:"/"}):A.a.createElement(Ie,null)}}),A.a.createElement(R.b,{path:"/toptags",component:Be}),A.a.createElement(R.b,{path:"/:username/all",render:function(){return e.currentUser?A.a.createElement(Fe,null):A.a.createElement(R.a,{to:"/login"})}}),A.a.createElement(R.b,{path:"/search/:username",render:function(t){return e.currentUser?A.a.createElement(Te,t):A.a.createElement(R.a,{to:"/login"})}}),A.a.createElement(R.b,{path:"/profile",render:function(){return e.currentUser?A.a.createElement(je,null):A.a.createElement(R.a,{to:"/login"})}}),A.a.createElement(R.b,{exact:!0,path:"/password/reset",component:F}),A.a.createElement(R.b,{path:"/password/reset/:token",component:we}),A.a.createElement(R.b,{path:"/friend",render:function(){return e.currentUser?A.a.createElement(J,null):A.a.createElement(R.a,{to:"/login"})}}),A.a.createElement(R.b,{exact:!0,path:"/message/:name",render:function(){return e.currentUser?A.a.createElement(ge,null):A.a.createElement(R.a,{to:"/login"})}})))}))),He=a(109),Ye=a(32);a.n(Ye).a.render(A.a.createElement(A.a.StrictMode,null,A.a.createElement(W.a,{store:y},A.a.createElement(V.a,null,A.a.createElement(He.a,{persistor:O},A.a.createElement(qe,null))))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[110,1,2]]]);
//# sourceMappingURL=main.a6303706.chunk.js.map